<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topaz Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
        }
        .quiz-option.correct {
            background-color: #d1fae5; /* Green-100 */
            border-color: #10b981; /* Green-500 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* Red-100 */
            border-color: #ef4444; /* Red-500 */
        }
        .reasoning {
            transition: opacity 0.5s ease-in-out, max-height 0.5s ease-in-out;
        }
        .pharma-tab-btn.active {
            border-color: #2563eb; /* blue-600 */
            background-color: #2563eb;
            color: white;
        }
        .pharma-tab-btn {
            white-space: nowrap; /* Prevent text wrapping on tabs */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <aside id="sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen bg-white shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="p-4 border-b">
            <h2 class="text-xl font-bold text-gray-800">Topics</h2>
        </div>
        <nav class="mt-4">
            <ul>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="pharmacologyContent">Pharmacology</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Infectious</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Epidemiology</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Skin</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Musculoskeletal</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">CNS</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Urban Health</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Cardiovascular</a></li>
            </ul>
        </nav>
    </aside>

    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden transition-opacity duration-300 ease-in-out"></div>

    <div id="main-content" class="transition-all duration-300 ease-in-out">
        <header class="bg-white shadow-md sticky top-0 z-20">
            <div class="container mx-auto px-4 py-3 flex items-center">
                <button id="menu-btn" class="p-2 rounded-md text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
                <h1 class="text-xl font-bold ml-4">Topaz Quiz</h1>
            </div>
        </header>

        <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
            
            <div id="pharmacologyContent" class="main-content-pane">
                <div class="mb-8 border-b border-gray-300 overflow-x-auto">
                    <div class="flex -mb-px">
                        <button class="pharma-tab-btn active flex-shrink-0 py-2 px-4 font-semibold border-b-2 transition-colors duration-300" data-target="paraContent">Parasympathomimetic Drugs</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="glucoContent">Glucocorticoids</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="chemoContent">Chemotherapy</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="antidoteContent">Antidote & Poisoning</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="rduContent">RDU</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="pvContent">Pharmacovigilance</button>
                    </div>
                </div>
                
                <div id="paraContent" class="pharma-tab-content">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Parasympathomimetic & Parasympatholytic Drugs Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge on cholinergic pharmacology.</p>
                    </header>
                    <div id="para-quiz-container" class="space-y-8"></div>
                </div>

                <div id="glucoContent" class="pharma-tab-content hidden">
                     <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Glucocorticoids Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge on glucocorticoid pharmacology.</p>
                    </header>
                    <div id="gluco-quiz-container" class="space-y-8"></div>
                </div>

                <div id="chemoContent" class="pharma-tab-content hidden">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Chemotherapy Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge on cancer chemotherapy agents.</p>
                    </header>
                    <div id="chemo-quiz-container" class="space-y-8"></div>
                </div>

                <div id="antidoteContent" class="pharma-tab-content hidden">
                     <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Antidote & Poisoning Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge on toxicology.</p>
                    </header>
                    <div id="antidote-quiz-container" class="space-y-8"></div>
                </div>

                <div id="rduContent" class="pharma-tab-content hidden">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Rational Drug Use (RDU) Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge about RDU policies in Thailand.</p>
                    </header>
                    <div id="rdu-quiz-container" class="space-y-8"></div>
                </div>

                <div id="pvContent" class="pharma-tab-content hidden">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Thai Pharmacovigilance Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge about the national drug safety system in Thailand.</p>
                    </header>
                    <div id="pv-quiz-container" class="space-y-8"></div>
                </div>
            </div>

            <div id="placeholderContent" class="main-content-pane hidden text-center p-10 bg-white rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-500">ยังไม่มี/อาจจะไม่ทำ</h2>
                <p class="text-gray-400 mt-2">(Not yet available / Might not be created)</p>
            </div>
        </div>
    </div>

    <script>
        // --- DATA FOR QUIZ 1: Parasympathomimetic & Parasympatholytic Drugs ---
        const paraQuizData = [
            { question: "A farmworker is brought to the emergency room with symptoms of excessive salivation, lacrimation, bronchospasm, and bradycardia after exposure to an insecticide. Which of the following is the most likely cause?", choices: { A: "Direct stimulation of M2 and M3 receptors.", B: "Blockade of acetylcholine release from the axon terminal.", C: "Irreversible inhibition of acetylcholinesterase.", D: "Competitive antagonism of muscarinic receptors.", E: "Depolarizing neuromuscular blockade." }, correctAnswer: "C", reasoning: { correct: "The symptoms presented (excessive secretions, bronchospasm, slow heart rate) are classic signs of a muscarinic cholinergic crisis, resulting from too much acetylcholine (ACh). The exposure to an insecticide points towards organophosphate poisoning. Organophosphates are irreversible inhibitors of the enzyme acetylcholinesterase (AChE). By inhibiting AChE, they prevent the breakdown of ACh in the synapse, leading to an accumulation of ACh and overstimulation of its receptors.", incorrect: { A: "This describes the mechanism of a direct-acting parasympathomimetic drug (like bethanechol or pilocarpine), not an insecticide. The poisoning is due to an indirect mechanism that increases the body's own ACh.", B: "Blocking ACh release is the mechanism of botulinum toxin, which would lead to flaccid paralysis and symptoms opposite to those seen here.", D: "This is the mechanism of a parasympatholytic drug like atropine, which is used as an antidote for this type of poisoning because it blocks the effects of excess ACh.", E: "This describes the action of succinylcholine, which affects nicotinic receptors at the neuromuscular junction, leading to paralysis. While organophosphate poisoning also has nicotinic effects (like muscle weakness), the prominent symptoms listed are muscarinic." } } },
             { question: "A patient is given atropine as a pre-operative medication. Which of the following effects is intended?", choices: { A: "To cause muscle paralysis for easier intubation.", B: "To increase gastrointestinal motility post-surgery.", C: "To reduce bronchial and salivary secretions.", D: "To constrict the pupils (miosis).", E: "To decrease heart rate in case of surgical stress." }, correctAnswer: "C", reasoning: { correct: "Atropine is a muscarinic receptor antagonist. By blocking M3 receptors on exocrine glands, it decreases secretions. One of its key clinical uses is reducing salivation and bronchial secretions before surgery to maintain a clear airway and prevent aspiration.", incorrect: { A: "Muscle paralysis for intubation is achieved with neuromuscular blockers (NMBs) like rocuronium or succinylcholine, which act on nicotinic receptors at the neuromuscular junction. Atropine does not cause muscle paralysis.", B: "As a muscarinic antagonist, atropine relaxes GI smooth muscle and decreases motility, leading to constipation.", D: "Atropine blocks M3 receptors on the pupillary constrictor muscle, causing the pupil to dilate (mydriasis), not constrict. Miosis is caused by muscarinic agonists.", E: "Atropine blocks M2 receptors in the heart, which leads to an increase in heart rate (tachycardia). It is used to treat bradycardia (low heart rate)." } } },
            { question: "Succinylcholine is used as a neuromuscular blocker. How does its mechanism differ from that of rocuronium?", choices: { A: "Succinylcholine is a competitive antagonist, while rocuronium is a non-competitive antagonist.", B: "Succinylcholine acts as a receptor agonist, while rocuronium is a competitive antagonist.", C: "Succinylcholine prevents ACh release, while rocuronium blocks the receptor.", D: "Succinylcholine can be reversed by neostigmine, while rocuronium cannot.", E: "Succinylcholine has a longer duration of action than rocuronium." }, correctAnswer: "B", reasoning: { correct: "These two drugs represent the two main classes of neuromuscular blockers. Succinylcholine is a depolarizing blocker; it acts as an acetylcholine (nACh) receptor agonist, binding to the receptor and causing a prolonged depolarization that leads to flaccid paralysis. Rocuronium is a non-depolarizing blocker; it acts as a competitive antagonist, preventing ACh from binding to its receptor, thereby preventing muscle depolarization.", incorrect: { A: "Succinylcholine is an agonist, not an antagonist. Rocuronium is a competitive antagonist.", C: "Preventing ACh release is the mechanism of botulinum toxin, not succinylcholine.", D: "The opposite is true. The block from non-depolarizing agents like rocuronium is reversed by acetylcholinesterase inhibitors like neostigmine. Administering neostigmine would worsen the paralysis caused by succinylcholine (in Phase I).", E: "Succinylcholine has a very short duration of action, while non-depolarizing agents like rocuronium generally last longer." } } },
            { question: "What is the specific therapeutic role of Pralidoxime (2-PAM) in treating organophosphate poisoning?", choices: { A: "It regenerates acetylcholinesterase by removing the organophosphate from the enzyme.", B: "It directly metabolizes the organophosphate compound in the bloodstream.", C: "It provides a source of new acetylcholinesterase enzyme to the body.", D: "It acts as a competitive antagonist at muscarinic receptors to block the effects of excess acetylcholine.", E: "It enhances the function of the sympathetic nervous system to counteract the parasympathetic overstimulation." }, correctAnswer: "A", reasoning: { correct: "Pralidoxime (2-PAM) is a cholinesterase reactivator. Its mechanism is to attach to the organophosphate molecule that is bound to the acetylcholinesterase enzyme and break the bond between them. This action removes the poison from the enzyme, allowing the enzyme to be regenerated and resume its normal function of breaking down acetylcholine. This must be done before the bond 'ages' and becomes permanent.", incorrect: { B: "Pralidoxime does not metabolize the poison; it works by salvaging the existing, poisoned enzyme.", C: "Pralidoxime does not create a new enzyme; it works by salvaging the existing, poisoned enzyme.", D: "This is the mechanism of action for atropine, which is also used in organophosphate poisoning but for a different purpose (symptom control).", E: "Pralidoxime's action is confined to regenerating AChE within the cholinergic system; it does not directly affect the sympathetic nervous system." } } },
            { question: "A patient presents with delirium, severe tachycardia, and mydriasis due to an overdose of a belladonna alkaloid. Which of the following would be the most effective antidote to reverse both the central and peripheral symptoms?", choices: { A: "Pralidoxime", B: "Physostigmine", C: "Bethanechol", D: "Neostigmine", E: "Edrophonium" }, correctAnswer: "B", reasoning: { correct: "The patient is suffering from an anticholinergic toxidrome, likely from atropine or scopolamine (belladonna alkaloids). The treatment is an acetylcholinesterase inhibitor. To reverse the central symptoms (delirium), the antidote must be able to cross the blood-brain barrier (BBB). Physostigmine is a tertiary amine that crosses the BBB and is specifically indicated as an antidote for poisoning with anticholinergic agents to reverse toxic, life-threatening delirium.", incorrect: { A: "Pralidoxime is a cholinesterase reactivator used only for organophosphate poisoning.", C: "Bethanechol is a direct muscarinic agonist. While it could counter peripheral symptoms, it is not the standard antidote and would not address the central effects.", D: "Neostigmine and edrophonium are quaternary amines that do not cross the BBB effectively. They could reverse peripheral symptoms (tachycardia, mydriasis) but would not resolve the central delirium.", E: "Neostigmine and edrophonium are quaternary amines that do not cross the BBB effectively. They could reverse peripheral symptoms (tachycardia, mydriasis) but would not resolve the central delirium." } } },
            { question: "A patient with organophosphate poisoning has been given atropine, which has resolved their bradycardia and excessive secretions. However, they continue to experience severe muscle weakness. What is the rationale for adding pralidoxime (2-PAM) to their treatment?", choices: { A: "Pralidoxime enhances the muscarinic blocking effects of atropine at the heart and glands.", B: "Atropine does not affect nicotinic receptors at the neuromuscular junction, which are the cause of the muscle weakness.", C: "Pralidoxime is needed to reverse the toxic CNS effects that atropine cannot reach.", D: "The combination of atropine and pralidoxime directly neutralizes the organophosphate in the blood.", E: "Atropine can worsen muscle weakness, and pralidoxime is administered to counteract this specific side effect." }, correctAnswer: "B", reasoning: { correct: "Organophosphate poisoning causes overstimulation of both muscarinic and nicotinic receptors. Atropine is a muscarinic antagonist and is very effective at blocking the muscarinic symptoms (bradycardia, salivation, bronchospasm). However, atropine has no effect at nicotinic receptors. Muscle weakness, fasciculations, and paralysis are nicotinic effects caused by ACh overstimulation at the neuromuscular junction (NMJ). Pralidoxime is required to regenerate AChE at the NMJ to break down the excess ACh, thereby reversing the muscle weakness.", incorrect: { A: "These statements describe incorrect mechanisms. Atropine and pralidoxime work via different, independent mechanisms and do not enhance each other.", C: "Pralidoxime works primarily in the periphery. Atropine can cross the BBB to address central muscarinic effects.", D: "These statements describe incorrect mechanisms. Atropine and pralidoxime do not directly neutralize the poison.", E: "These statements describe incorrect mechanisms. Atropine and pralidoxime work via different, independent mechanisms." } } },
            { question: "A 55-year-old man with a history of myasthenia gravis is undergoing surgery. Anesthesia requires the use of a neuromuscular blocking agent. Post-operatively, neostigmine is administered to reverse the muscle paralysis. Which of the following neuromuscular blockers was most likely used during his surgery?", choices: { A: "Benztropine", B: "Rocuronium", C: "Trimethaphan", D: "Succinylcholine", E: "Botulinum toxin" }, correctAnswer: "B", reasoning: { correct: "Neostigmine is an acetylcholinesterase inhibitor that works by increasing the amount of acetylcholine at the neuromuscular junction. This increased level of ACh helps it to outcompete a competitive antagonist, thereby reversing its effect. Rocuronium is a non-depolarizing, competitive antagonist neuromuscular blocker.", incorrect: { A: "Benztropine is an anticholinergic for Parkinson's disease, not a neuromuscular blocker.", C: "Trimethaphan is a ganglionic blocker; neither is a neuromuscular blocker used in surgery.", D: "Succinylcholine is a depolarizing blocker (an agonist). Administering an AChE inhibitor like neostigmine would potentiate, not reverse, its paralytic effect.", E: "Botulinum toxin works by preventing ACh release, so increasing ACh with an inhibitor would have no substrate to act upon and would not reverse the paralysis." } } },
            { question: "A patient being treated for moderate Alzheimer's disease is prescribed a medication that is a centrally-acting acetylcholinesterase inhibitor. Which of the following medications was likely prescribed?", choices: { A: "Pilocarpine", B: "Neostigmine", C: "Donepezil", D: "Atropine", E: "Sugammadex" }, correctAnswer: "C", reasoning: { correct: "Alzheimer's disease involves a cholinergic deficit in the brain. The primary treatment strategy is to increase central acetylcholine levels using an acetylcholinesterase inhibitor that can cross the blood-brain barrier. Donepezil, Rivastigmine, and Galantamine are acetylcholinesterase inhibitors used for mild to moderate Alzheimer's disease.", incorrect: { A: "Pilocarpine is a direct-acting muscarinic agonist used for glaucoma and dry mouth.", B: "Neostigmine is an acetylcholinesterase inhibitor, but it does not cross the blood-brain barrier and is used for peripheral conditions like myasthenia gravis.", D: "Atropine is a muscarinic antagonist and would worsen the cognitive symptoms of Alzheimer's.", E: "Sugammadex is a specific reversal agent for certain neuromuscular blockers and has no role in Alzheimer's treatment." } } },
            { question: "Which of the following agents is a depolarizing neuromuscular blocker that acts as a Nicotinic receptor agonist?", choices: { A: "d-Tubocurarine", B: "Nicotine", C: "Rocuronium", D: "Scopolamine", E: "Succinylcholine" }, correctAnswer: "E", reasoning: { correct: "The definition of a depolarizing neuromuscular blocker is an agent that acts as a nicotinic acetylcholine (nACh) receptor agonist at the neuromuscular junction. Succinylcholine fits this description perfectly. It binds to nACh receptors, generating an action potential (depolarization), but its prolonged binding prevents the end plate from repolarizing, resulting in flaccid paralysis.", incorrect: { A: "d-Tubocurarine and rocuronium are non-depolarizing neuromuscular blockers; they act as competitive antagonists, not agonists.", B: "While nicotine is a nicotinic receptor agonist, it is not used clinically as a neuromuscular blocker.", C: "d-Tubocurarine and rocuronium are non-depolarizing neuromuscular blockers; they act as competitive antagonists, not agonists.", D: "Scopolamine is a muscarinic receptor antagonist, not a nicotinic agonist." } } },
            { question: "A patient with postoperative urinary retention who is not otherwise obstructed would be best treated with which of the following agents to stimulate urination?", choices: { A: "Pilocarpine", B: "Oxybutynin", C: "Bethanechol", D: "Benztropine", E: "Scopolamine" }, correctAnswer: "C", reasoning: { correct: "To treat urinary retention, a drug that stimulates the contraction of the bladder's detrusor muscle is needed. This is achieved by stimulating muscarinic (M3) receptors. Bethanechol is a direct-acting muscarinic agonist whose specific clinical use is the treatment of acute postoperative and postpartum nonobstructive urinary retention.", incorrect: { A: "Pilocarpine is also a muscarinic agonist, but its primary uses are for glaucoma and Sjögren syndrome, not urinary retention.", B: "Oxybutynin is a muscarinic antagonist used to treat an overactive bladder by relaxing the detrusor muscle—the exact opposite of the desired effect.", D: "Benztropine and scopolamine are muscarinic antagonists used for Parkinson's disease and motion sickness, respectively. They would worsen urinary retention.", E: "Benztropine and scopolamine are muscarinic antagonists used for Parkinson's disease and motion sickness, respectively. They would worsen urinary retention." } } },
            { question: "A farmer is exposed to a large amount of an organophosphate insecticide. He presents with symptoms of diarrhea, urination, miosis, bronchospasm, and excessive salivation. The physician administers Atropine, which alleviates most symptoms. However, one specific symptom persists because it is mediated by a different receptor type than the others. Which symptom is LEAST likely to be resolved by Atropine?", choices: { A: "Miosis", B: "Diarrhea", C: "Muscle twitching", D: "Bronchospasm", E: "Excessive salivation" }, correctAnswer: "C", reasoning: { correct: "Atropine is a muscarinic receptor antagonist. It is effective at blocking the effects of acetylcholine at muscarinic receptors. All the symptoms listed—diarrhea (M3), miosis (M3), bronchospasm (M3), and salivation (M3)—are mediated by muscarinic receptors and would be alleviated by atropine. However, muscle twitching (fasciculations) is a nicotinic effect, caused by acetylcholine acting on nicotinic receptors at the neuromuscular junction (NMJ). Since atropine does not block nicotinic receptors, it will not resolve this symptom.", incorrect: { A: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", B: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", D: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", E: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine." } } },
            { question: "A 65-year-old man with COPD is managed with a long-acting beta-agonist. To achieve better symptom control, his doctor adds an inhaled anticholinergic agent. Which of the following would be the most suitable choice for a once-daily maintenance therapy due to its prolonged duration of action and selectivity for M1/M3 receptors?", choices: { A: "Ipratropium", B: "Benztropine", C: "Tiotropium", D: "Pilocarpine", E: "Atropine" }, correctAnswer: "C", reasoning: { correct: "The goal is to provide long-term bronchodilation for COPD with a once-daily inhaled medication. This requires a Long-Acting Muscarinic Antagonist (LAMA). Tiotropium is a LAMA with a duration of action that typically lasts over 24 hours, allowing for once-daily dosing, making it ideal for long-term maintenance treatment for COPD.", incorrect: { A: "Ipratropium is a Short-Acting Muscarinic Antagonist (SAMA) with a duration of only 4-6 hours, requiring more frequent dosing and is typically used as a reliever, not for long-term maintenance.", B: "Benztropine is an anticholinergic used for Parkinson's disease and is not administered via inhalation for COPD.", D: "Pilocarpine is a muscarinic agonist and would cause bronchoconstriction, worsening COPD symptoms.", E: "While atropine is an anticholinergic, it is not formulated for long-acting, once-daily inhalation for COPD and has more systemic side effects. Tiotropium is the more modern and appropriate choice." } } }
        ];

        // --- DATA FOR QUIZ 2: Glucocorticoids ---
        const glucoQuizData = [
            { question: "A 60-year-old male has been on high-dose prednisone therapy for the past two years to manage severe rheumatoid arthritis. Which of the following adverse effects is the most likely consequence of his long-term treatment?", choices: { A: "Hypotension", B: "Osteoporosis", C: "Mydriasis (pupil dilation)", D: "Increased muscle mass", E: "Hypoglycemia" }, correctAnswer: "B", reasoning: { correct: "Long-term use of glucocorticoids like prednisone is a well-documented cause of osteoporosis. This occurs because these medications decrease bone formation and can lead to a loss of bone mass over time.", incorrect: { A: "Hypotension: This is incorrect. Glucocorticoids often cause salt and water retention, which typically leads to hypertension (high blood pressure), not hypotension.", C: "Mydriasis (pupil dilation): This is incorrect. While eye-related side effects can occur, they are typically glaucoma and cataracts, not pupil dilation.", D: "Increased muscle mass: This is incorrect. Glucocorticoids have catabolic effects on protein, leading to decreased muscle mass, muscle atrophy, and weakness.", E: "Hypoglycemia: This is incorrect. Glucocorticoids increase gluconeogenesis and insulin resistance, leading to hyperglycemia (high blood sugar) and a diabetogenic effect." } } },
            { question: "Which of the following drugs exerts its anti-inflammatory effect by directly inhibiting the enzyme Phospholipase A2, thereby preventing the formation of arachidonic acid?", choices: { A: "Aspirin", B: "Mifepristone", C: "Prednisolone", D: "Spironolactone", E: "Ketoconazole" }, correctAnswer: "C", reasoning: { correct: "Prednisolone is a corticosteroid. The primary anti-inflammatory mechanism of corticosteroids is the inhibition of the enzyme Phospholipase A2. This action blocks the release of arachidonic acid from phospholipids, which is the precursor for inflammatory mediators like prostaglandins and leukotrienes.", incorrect: { A: "Aspirin: This is incorrect. Aspirin is a nonsteroidal anti-inflammatory drug (NSAID) that works by inhibiting the Cyclooxygenase (COX) enzyme, which is further down the inflammatory pathway from arachidonic acid.", B: "Mifepristone: This is incorrect. Mifepristone acts as a glucocorticoid receptor antagonist, meaning it blocks the receptor itself rather than an enzyme in the inflammatory pathway.", D: "Spironolactone: This is incorrect. Spironolactone is a mineralocorticoid antagonist that competes with aldosterone at its receptor site. It does not inhibit Phospholipase A2.", E: "Ketoconazole: This is incorrect. Ketoconazole is an antifungal agent that also inhibits several enzymes involved in steroid synthesis, not the inflammatory pathway enzymes." } } },
            { question: "A patient with Cushing's syndrome caused by an adrenal tumor is treated with ketoconazole. What is the primary mechanism that makes this drug effective in this condition?", choices: { A: "It increases the metabolic clearance of cortisol from the body.", B: "It strongly inhibits 17α-hydroxylase, reducing cortisol synthesis.", C: "It blocks glucocorticoid receptors in peripheral tissues.", D: "It acts as a competitive antagonist at the aldosterone receptor.", E: "It inhibits the release of ACTH from the pituitary gland." }, correctAnswer: "B", reasoning: { correct: "Ketoconazole is a potent, nonselective inhibitor of adrenal steroid synthesis. It works by blocking multiple enzymes in the cortisol production pathway, including 17α-hydroxylase. This inhibition leads to a decrease in the overall synthesis of cortisol, making it an effective treatment for Cushing's syndrome.", incorrect: { A: "It increases the metabolic clearance of cortisol from the body: This is incorrect. Ketoconazole works by blocking the production of cortisol, not by increasing its removal from the body.", C: "It blocks glucocorticoid receptors in peripheral tissues: This is incorrect. This describes the mechanism of action for Mifepristone, a glucocorticoid receptor antagonist.", D: "It acts as a competitive antagonist at the aldosterone receptor: This is incorrect. This is the mechanism of action for Spironolactone.", E: "It inhibits the release of ACTH from the pituitary gland: This is incorrect. Ketoconazole acts directly on the adrenal cortex to inhibit steroid synthesis; it does not primarily affect the pituitary gland's release of ACTH." } } },
            { question: "A patient abruptly stops taking corticosteroids and develops adrenal insufficiency. What symptom will be found in this patient?", choices: { A: "Emotional disturbance", B: "Hypertension", C: "Hyperglycemia", D: "Dehydration", E: "Moon face" }, correctAnswer: "D", reasoning: { correct: "Abruptly stopping long-term corticosteroid therapy can cause acute adrenal insufficiency because the body's natural production of cortisol has been suppressed (HPA axis suppression). Cortisol naturally has some mineralocorticoid effects, which include promoting sodium and water retention. The sudden lack of cortisol leads to the loss of sodium and water, resulting in dehydration.", incorrect: { A: "Emotional disturbance: This is incorrect. Emotional disturbances, mood changes, and psychosis are associated with corticosteroid excess, not deficiency.", B: "Hypertension: This is incorrect. Hypertension is a common side effect of corticosteroid excess due to salt and water retention. Adrenal insufficiency would more likely cause hypotension.", C: "Hyperglycemia: This is incorrect. Hyperglycemia is a characteristic metabolic effect of corticosteroid excess. Adrenal insufficiency can lead to hypoglycemia.", E: "Moon face: This is incorrect. Moon face, along with buffalo hump and truncul obesity, is a classic sign of fat redistribution caused by corticosteroid excess (Cushingoid appearance)." } } }
        ];

        // --- DATA FOR QUIZ 3: Chemotherapy ---
        const chemoQuizData = [
            { question: "A 60-year-old woman is being treated for breast cancer with a regimen that includes an anthracycline antibiotic. She later develops signs of heart failure. Which of the following drugs is most likely responsible for this irreversible cardiotoxicity?", choices: { A: "Cisplatin", B: "Doxorubicin", C: "Vincristine", D: "Methotrexate", E: "Bleomycin" }, correctAnswer: "B", reasoning: { correct: "Doxorubicin is listed as an anthracycline antibiotic. The documents explicitly state that \"Anthracyclines produce irreversible cardiotoxicity\", which can manifest as cardiomyopathy and heart failure.", incorrect: { A: "Cisplatin is associated with severe emesis, nephrotoxicity, and ototoxicity, not cardiotoxicity.", C: "Vincristine's primary toxicity is peripheral neuropathy.", D: "Methotrexate toxicity includes nephrotoxicity, hepatotoxicity, and pulmonary fibrosis.", E: "Bleomycin is known for causing pulmonary fibrosis and skin hyperpigmentation." } } },
            { question: "A patient with advanced breast cancer complains of numbness and tingling in her hands and feet after starting chemotherapy. Which drug, known for stabilizing microtubules and inhibiting mitosis, most likely caused this adverse effect?", choices: { A: "Cyclophosphamide", B: "Trastuzumab", C: "Doxorubicin", D: "Docetaxel", E: "Tamoxifen" }, correctAnswer: "D", reasoning: { correct: "Docetaxel is classified as a taxane. The mechanism of action for taxanes is to bind to tubulin and stabilize microtubules, which inhibits mitosis. A major toxicity associated with this class is peripheral neuropathy, which presents with symptoms like numbness and tingling.", incorrect: { A: "Cyclophosphamide's characteristic toxicity is hemorrhagic cystitis.", B: "Trastuzumab is not discussed in the provided documents.", C: "Doxorubicin's main dose-limiting toxicity is cardiotoxicity.", E: "Tamoxifen is not discussed in the provided documents." } } },
            { question: "A patient with gout is prescribed allopurinol, a xanthine oxidase inhibitor. This patient is also receiving chemotherapy for acute lymphocytic leukemia. The oncologist decides to significantly reduce the dose of one of the chemotherapy agents to prevent toxicity. Which chemotherapeutic drug's metabolism is inhibited by allopurinol?", choices: { A: "Doxorubicin", B: "Fluorouracil", C: "Bleomycin", D: "6-Mercaptopurine", E: "Mitomycin C" }, correctAnswer: "D", reasoning: { correct: "The metabolic pathway shows that 6-Mercaptopurine (6-MP) is metabolized by the enzyme xanthine oxidase. Allopurinol inhibits this enzyme. This inhibition prevents the breakdown of 6-MP, leading to significantly increased drug levels and potential toxicity. Therefore, the dose of 6-MP must be reduced when given with allopurinol.", incorrect: { A: "The documents do not describe a similar metabolic interaction between allopurinol and doxorubicin.", B: "The documents do not describe a similar metabolic interaction between allopurinol and fluorouracil.", C: "The documents do not describe a similar metabolic interaction between allopurinol and bleomycin.", E: "The documents do not describe a similar metabolic interaction between allopurinol and mitomycin C." } } },
            { question: "Vinca alkaloids (like vincristine) and taxanes (like paclitaxel) are both mitotic inhibitors derived from plants, yet they have opposing mechanisms of action on microtubules. Which statement accurately describes their mechanisms?", choices: { A: "Vinca alkaloids act in the G1 phase, while taxanes act in the S phase.", B: "Both drug classes work by inhibiting topoisomerase II.", C: "Vinca alkaloids stabilize microtubules, while taxanes inhibit their polymerization.", D: "Both drug classes intercalate into DNA to prevent transcription.", E: "Vinca alkaloids inhibit the polymerization of tubulin, while taxanes stabilize existing microtubules, preventing their disassembly." }, correctAnswer: "E", reasoning: { correct: "The diagram clearly shows that Vinca alkaloids inhibit the polymerization of tubulin into microtubules, preventing mitotic spindle formation. In contrast, taxanes stabilize existing microtubules, preventing the cell from breaking them down, which also halts mitosis.", incorrect: { A: "Both are mitotic inhibitors and act in the M phase of the cell cycle.", B: "Topoisomerase II is inhibited by drugs like epipodophyllotoxins.", C: "This statement reverses the actual mechanisms of the two drug classes.", D: "DNA intercalation is a mechanism used by anticancer antibiotics like doxorubicin." } } },
            { question: "A patient is treated for non-Hodgkin's lymphoma with a CHOP regimen (Cyclophosphamide, Doxorubicin, Vincristine, Prednisone). Which combination of drug and potential long-term, irreversible toxicity is correctly matched?", choices: { A: "Cyclophosphamide - Pulmonary fibrosis", B: "Doxorubicin - Cardiomyopathy", C: "Prednisone - Nephrotoxicity", D: "Cyclophosphamide - Peripheral neuropathy", E: "Vincristine - Hemorrhagic cystitis" }, correctAnswer: "B", reasoning: { correct: "Doxorubicin is an anthracycline known to cause irreversible cardiotoxicity, specifically leading to cardiomyopathy and heart failure.", incorrect: { A: "The primary toxicity of Cyclophosphamide is hemorrhagic cystitis, not pulmonary fibrosis.", C: "Prednisone and its toxicities are not discussed in the provided documents.", D: "The primary toxicity of Cyclophosphamide is hemorrhagic cystitis, not peripheral neuropathy.", E: "The primary dose-limiting toxicity of Vincristine is peripheral neuropathy, not hemorrhagic cystitis. The choices in D and E incorrectly swap the toxicities of cyclophosphamide and vincristine." } } },
            { question: "A patient receiving a chemotherapy regimen including both cyclophosphamide and ifosfamide develops severe hemorrhagic cystitis and also exhibits signs of confusion and lethargy. While acrolein is a common metabolite responsible for the bladder toxicity of both drugs, which neurotoxic metabolite is uniquely associated with ifosfamide metabolism?", choices: { A: "Phosphoramide mustard", B: "Acrolein", C: "Methylene blue", D: "Chloroacetaldehyde", E: "7-hydroxymethotrexate" }, correctAnswer: "D", reasoning: { correct: "The diagram shows that ifosfamide is metabolized to acrolein and chloroacetaldehyde. The diagram explicitly links chloroacetaldehyde to neurotoxicity, which would account for symptoms like confusion and lethargy.", incorrect: { A: "Phosphoramide mustard is an active metabolite of cyclophosphamide.", B: "Acrolein is the metabolite from both drugs that causes hemorrhagic cystitis, not neurotoxicity.", C: "Methylene blue is mentioned as a treatment used to alleviate the neurotoxicity from ifosfamide, it is not the toxic metabolite itself.", E: "7-hydroxymethotrexate is a metabolite of methotrexate associated with nephrotoxicity." } } }
        ];
        
        // --- DATA FOR QUIZ 4: Antidote & Poisoning ---
        const antidoteQuizData = [
            { question: "A patient is admitted with acute arsenic poisoning. Based on the treatment information for heavy metal poisoning, which of the following chelating agents would be most appropriate for this patient?", choices: { A: "Calcium EDTA", B: "Succimer", C: "Penicillamine", D: "Deferoxamine", E: "Dimercaprol" }, correctAnswer: "E", reasoning: { correct: "The document explicitly lists Dimercaprol as the chelating agent for treating acute arsenic poisoning. It is administered via deep intramuscular injection.", incorrect: { A: "Calcium EDTA is indicated for lead poisoning.", B: "Succimer (DMSA) is used for treating lead, arsenic, and mercury poisoning, but Dimercaprol is specified as the primary treatment for acute arsenic poisoning in the text.", C: "Penicillamine is primarily used for copper poisoning (specifically Wilson's disease) and can also be used for lead and mercury poisoning.", D: "Deferoxamine is the specific chelating agent for iron poisoning." } } },
            { question: "A group of friends goes foraging for mushrooms. One of them consumes a mushroom and later experiences visual hallucinations and euphoria. The mushroom is identified as Psilocybe cubensis (เห็ดขี้ควาย). What is the toxin responsible for these psychoactive effects?", choices: { A: "Amatoxins", B: "Psilocybin", C: "Muscarine", D: "Gyromitrin", E: "Cyclopeptide" }, correctAnswer: "B", reasoning: { correct: "The provided material identifies Psilocybe cubensis (เห็ดขี้ควาย) as a mushroom that causes hallucinations. The toxins responsible for its psychoactive effects are psilocybin and psilocin. The symptoms of euphoria and visual hallucinations match the description of poisoning from this mushroom.", incorrect: { "A & E": "Amatoxins and other cyclopeptides are found in mushrooms like Amanita phalloides (Death Cap). They are potent hepatotoxins that cause severe liver damage after a delayed onset of 6-24 hours and do not cause psychoactive symptoms.", C: "Muscarine is a toxin that stimulates muscarinic acetylcholine receptors, leading to symptoms like sweating, salivation, and lacrimation. It does not cause hallucinations.", D: "Gyromitrin is a toxin found in false morels (Gyromitra esculenta) which is metabolized to monomethylhydrazine (MMH). It is a neurotoxin but causes symptoms like dizziness and seizures, not the psychoactive effects described." } } },
            { question: "A 30-year-old man is bitten by a snake with distinct yellow and black bands. He develops progressive muscle weakness and flaccid paralysis. The venom is identified as a neurotoxin that binds irreversibly to acetylcholine receptors at the presynaptic neuron. Which snake is the most likely cause?", choices: { A: "Sea snake", B: "King Cobra", C: "Banded krait", D: "Green pit viper", E: "Russell's viper" }, correctAnswer: "C", reasoning: { correct: "The Banded krait (Bungarus fasciatus) is described as having potent neurotoxins (α- and β-bungarotoxin) that act on presynaptic neurons, irreversibly blocking acetylcholine release. This leads to the classic symptoms of progressive flaccid paralysis and muscle weakness. The snake's appearance matches the yellow and black band description.", incorrect: { A: "While sea snakes have neurotoxic venom, the specific mechanism described (irreversible presynaptic binding) is characteristic of kraits.", B: "The King Cobra's neurotoxin primarily acts on the postsynaptic acetylcholine receptors, competing with acetylcholine.", "D & E": "The Green pit viper and Russell's viper are primarily hematotoxic, causing coagulation problems, bleeding, and local tissue damage, not the primary neurotoxic symptoms described." } } },
            { question: "A 45-year-old man is brought to the hospital with paralysis of voluntary muscles, including the diaphragm, leading to respiratory arrest. His heart rate is rapid, and he has a loss of sensation. The mechanism of the toxin involves blocking fast voltage-gated sodium channels. Which of the following is the most likely causative agent?", choices: { A: "Dioxin", B: "Botulinum Toxin", C: "Organophosphate", D: "Tetrodotoxin", E: "Strychnine" }, correctAnswer: "D", reasoning: { correct: "Tetrodotoxin (TTX), found in pufferfish, is explicitly stated to block fast voltage-gated sodium channels in nerve and muscle membranes. This action prevents nerve impulse transmission, leading to motor and sensory paralysis, including respiratory arrest, which perfectly matches the patient's symptoms.", incorrect: { A: "Dioxin is a persistent environmental pollutant that causes a wide range of long-term toxic effects, not acute paralysis.", B: "Botulinum toxin acts presynaptically to prevent the release of acetylcholine, causing flaccid paralysis, but it does not block sodium channels.", C: "Organophosphates are acetylcholinesterase inhibitors, leading to a cholinergic crisis (overstimulation), which presents with symptoms opposite to flaccid paralysis (e.g., muscle fasciculations, seizures).", E: "Strychnine is an antagonist of the glycine receptor in the spinal cord, which inhibits postsynaptic inhibition, leading to convulsive seizures, not flaccid paralysis." } } },
            { question: "Which volatile organic compound is specifically noted for its toxic effect on the hematopoietic system and red blood cells, essentially affecting bone marrow function?", choices: { A: "Toluene", B: "Chloroform", C: "Benzene", D: "Methanol", E: "Xylene" }, correctAnswer: "C", reasoning: { correct: "The documentation specifies that Benzene has a toxic effect on the hematopoietic system, affecting red blood cells and bone marrow function, which can lead to aplastic anemia and leukemia.", incorrect: { "A, E": "Toluene and Xylene are noted for their effects on the central nervous system (CNS), causing symptoms like dizziness and confusion.", B: "Chloroform is mentioned as being toxic to the liver and kidneys and is a CNS depressant.", D: "Methanol is metabolized into formic acid, which causes metabolic acidosis and is specifically toxic to the optic nerve, potentially leading to blindness." } } },
            { question: "A patient taking phenobarbital for seizures presents with an overdose. To enhance the elimination of the drug from the body, which of the following strategies would be most effective?", choices: { A: "Administration of activated charcoal", B: "Hemodialysis with a lipid emulsion", C: "Acidification of the urine", D: "Alkalinization of the urine", E: "Administration of flumazenil" }, correctAnswer: "D", reasoning: { correct: "Phenobarbital is a weak acid. The principle of ion trapping states that to enhance the renal excretion of a weak acid, the urine should be made more alkaline. The documents state that elevating urine pH with sodium bicarbonate (NaHCO₃) promotes the excretion of acids like aspirin and phenobarbital.", incorrect: { A: "Activated charcoal is used to prevent the initial absorption of the drug from the gastrointestinal tract, not to enhance its elimination once it has been absorbed.", B: "Lipid emulsion therapy is used for lipophilic drug toxicity (e.g., local anesthetics), not for phenobarbital.", C: "Acidification of the urine would decrease the ionization of phenobarbital, promoting its reabsorption and reducing its elimination. This strategy is used for weak bases.", E: "Flumazenil is a specific antidote for benzodiazepine overdose, not barbiturates like phenobarbital." } } },
            { question: "A 50-year-old woman is found unconscious in her home during the winter. A faulty space heater was running. She has cherry-red skin, headache, and dizziness. Her blood's oxygen-carrying capacity is severely diminished despite a normal partial pressure of oxygen. What is the most likely poison and its immediate antidote?", choices: { A: "Cyanide; Hydroxocobalamin", B: "Carbon monoxide; 100% Oxygen", C: "Sulfur dioxide; Bronchodilators", D: "Benzene; Supportive care", E: "Methemoglobin; Methylene blue" }, correctAnswer: "B", reasoning: { correct: "The scenario (faulty heater, winter) and symptoms (cherry-red skin, headache, dizziness, unconsciousness) are classic for Carbon Monoxide (CO) poisoning. CO binds to hemoglobin with an affinity 200-300 times greater than oxygen, forming carboxyhemoglobin and severely reducing the blood's oxygen-carrying capacity. The immediate and primary treatment is the administration of 100% oxygen to displace CO from hemoglobin.", incorrect: { A: "Cyanide poisoning impairs oxygen utilization at the cellular level by inhibiting cytochrome c oxidase. While it's a chemical asphyxiant, the classic signs and antidote differ.", C: "Sulfur dioxide is a respiratory irritant and would cause coughing and bronchospasm, not the described systemic symptoms.", D: "Benzene toxicity affects the bone marrow and is not associated with these acute symptoms.", E: "Methemoglobinemia results in 'chocolate brown' blood and cyanosis. Its antidote is methylene blue." } } },
            { question: "A researcher is studying a new herbicide. A single, high dose is administered to a group of rats to determine the lethal dose. The animals are observed for 24 hours. However, to get regulatory approval for long-term use, the researcher must also assess toxicity from repeated exposure over a period of 1 to 3 months. What is this second type of study called?", choices: { A: "Chronic toxicity study", B: "Subchronic toxicity study", C: "Acute toxicity study", D: "Hyperacute toxicity study", E: "Subacute toxicity study" }, correctAnswer: "B", reasoning: { correct: "The provided material defines a subchronic toxicity study as one involving repeated exposure to a substance for a duration of 1 to 3 months.", incorrect: { A: "A chronic toxicity study involves repeated exposure for more than 3 months.", C: "An acute toxicity study, which the researcher already performed, involves a single administration or multiple doses within 24 hours (e.g., LD50 test).", D: "This term is not a standard classification in the provided documents.", E: "A subacute toxicity study is defined as repeated exposure for 1 month or less." } } },
            { question: "A 54-year-old farmer presents to the emergency department after being bitten by a snake, which was identified as a Russell's Viper (Vipera russelli siamensis). The patient develops bleeding from the gums and the bite site. Laboratory tests reveal a prolonged venous clotting time (VCT), thrombocytopenia, and evidence of disseminated intravascular coagulation (DIC). Based on the coagulation cascade diagram provided in the learning materials, which of the following best describes the most direct mechanism of this venom's hematotoxicity?", choices: { A: "Activation of Factor V and Factor X, leading to excessive thrombin generation.", B: "Direct conversion of fibrinogen to fibrin, bypassing the upstream coagulation factors.", C: "Inhibition of thrombin, leading to a severe bleeding disorder.", D: "Chelation of calcium ions, thereby preventing multiple steps in the coagulation cascade.", E: "Blocking of acetylcholine receptors at the neuromuscular junction, causing paralysis." }, correctAnswer: "A", reasoning: { correct: "The venom of the Russell's Viper is described as a potent activator of Factor X and Factor V in the coagulation cascade. This leads to a massive, uncontrolled generation of thrombin, which in turn converts fibrinogen to fibrin, forming widespread microthrombi (DIC). This process consumes clotting factors and platelets, leading to a subsequent bleeding disorder (prolonged VCT, thrombocytopenia), which matches the patient's clinical presentation.", incorrect: { B: "Some venoms act directly on fibrinogen, but Russell's Viper venom acts further upstream on Factors V and X.", C: "The venom activates the cascade, leading to thrombin generation, rather than inhibiting it. The subsequent bleeding is due to the consumption of clotting factors.", D: "This is not the mechanism of Russell's Viper venom.", E: "This describes the mechanism of a neurotoxin, whereas Russell's Viper is primarily hematotoxic." } } },
            { question: "Which snake's venom is uniquely identified as having both neurotoxic and cardiotoxic effects?", choices: { A: "King Cobra (Ophiophagus hannah)", B: "Common Krait", C: "Spectacled Cobra", D: "Russell's Viper", E: "Saws Scaled Viper" }, correctAnswer: "A", reasoning: { correct: "The King Cobra's venom is specifically mentioned in the text as having both potent neurotoxic components that cause paralysis and cardiotoxic components that can directly affect the heart, potentially leading to cardiac arrest.", incorrect: { "B, C": "Kraits and other cobras are primarily known for their potent neurotoxins.", "D, E": "Russell's Viper and the Saw-scaled Viper are primarily known for their powerful hematotoxic effects, causing severe coagulation abnormalities." } } },
            { question: "A patient is brought to the emergency room with drooping eyelids, difficulty swallowing, and progressive muscle weakness that started an hour after being bitten by a snake. The bite site shows minimal pain and swelling. Based on the document, which type of venom is most likely responsible, and what is the most appropriate specific treatment?", choices: { A: "Hematotoxin; administer platelet and coagulation factors.", B: "Neurotoxin; administer the appropriate antivenom.", C: "Myotoxin (Rhabdomyolysis); begin hemodialysis for kidney failure.", D: "Cardiotoxin; administer high-dose insulin and IV glucagon.", E: "Cytotoxin; debride the wound and administer broad-spectrum antibiotics." }, correctAnswer: "B", reasoning: { correct: "The symptoms of drooping eyelids (ptosis), difficulty swallowing (dysphagia), and progressive muscle weakness with minimal local signs are classic manifestations of a neurotoxic snakebite (e.g., from a cobra or krait). The document clearly states that the treatment for such envenomation is the administration of a specific antivenom to neutralize the venom's effects.", incorrect: { A: "Hematotoxic venom would cause symptoms of bleeding, swelling, and pain at the bite site, which are absent here.", C: "Myotoxicity leading to rhabdomyolysis would present with severe muscle pain and dark urine, and while supportive, dialysis is not the primary specific treatment.", D: "These treatments are not indicated for snakebite cardiotoxicity.", E: "Cytotoxic venom would cause severe local pain, swelling, and tissue necrosis, which contradicts the 'minimal pain and swelling' description." } } },
            { question: "A group of people fall ill after foraging for and eating wild mushrooms. The symptoms begin approximately 10-12 hours after ingestion and include severe abdominal cramps and vomiting. Blood tests in the hospital reveal acute liver failure with sharply elevated AST and ALT levels. Based on the document, which mushroom toxin is the most likely cause?", choices: { A: "Gastrointestinal irritants from Chlorophyllum molybdites.", B: "Monomethylhydrazine, which inhibits GABA synthesis.", C: "Amatoxins, which inhibit RNA polymerase in liver cells.", D: "Muscarine, which stimulates muscarinic receptors.", E: "Psilocybin, which acts as a serotonin agonist." }, correctAnswer: "C", reasoning: { correct: "The clinical picture is classic for amatoxin poisoning, typically from Amanita species (death cap mushrooms). The key features are the delayed onset of gastrointestinal symptoms (6-24 hours), followed by a period of apparent recovery, and then the development of fulminant liver failure (elevated AST/ALT). The mechanism described is the inhibition of RNA polymerase II, which is particularly devastating to metabolically active cells like hepatocytes.", incorrect: { A: "Gastrointestinal irritants from mushrooms like Chlorophyllum molybdites cause rapid onset of symptoms (usually within 1-3 hours) and do not typically cause severe liver failure.", B: "Monomethylhydrazine (from gyromitrin) is primarily neurotoxic.", D: "Muscarine causes a rapid-onset cholinergic syndrome (sweating, salivation, etc.) and does not cause delayed liver failure.", E: "Psilocybin causes rapid-onset psychoactive effects (hallucinations) and does not cause liver failure." } } }
        ];

        // --- DATA FOR QUIZ 5: RDU ---
        const rduQuizData = [
            { question: "In monitoring the rational use of drugs (RDU) at a hospital in Thailand, which of the following indicators is a key measure used to evaluate prescribing patterns?", choices: { A: "The number of imported drugs used.", B: "The number of adverse events reported per month.", C: "The annual budget spent on drug advertising.", D: "The percentage of prescriptions containing at least one injectable medicine.", E: "The percentage of pharmacists in treatment and management at the hospital." }, correctAnswer: "D", reasoning: { correct: "This is a classic 'Prescribing Pattern Indicator.' Monitoring the frequency of injections helps assess clinical decision-making, as overuse can be costly, increase the risk of infection, and may not be necessary. It is a direct measure of how drugs are being prescribed.", incorrect: { A: "A drug's country of origin does not determine if its use is rational.", B: "This is an outcome indicator related to patient safety (pharmacovigilance), not a direct measure of the prescribing pattern itself.", C: "Hospitals do not have budgets for advertising drugs to consumers.", E: "The ratio of staff is a structural indicator of hospital resources, not a measure of prescribing behavior." } } },
            { question: "According to the Ministry of Public Health, what is the main objective of Thailand's RDU project?", choices: { A: "To reduce the use of all types of prescription drugs.", B: "To increase drug sales and exports worldwide.", C: "To limit access to expensive, specialized drugs.", D: "To promote the use of traditional medicine in all public hospitals.", E: "To promote the safe, effective, and cost-effective use of medicines based on evidence." }, correctAnswer: "E", reasoning: { correct: "This choice perfectly encapsulates the global definition of Rational Drug Use (RDU). The project's goal is to ensure that patients receive medicine appropriate for their clinical needs, in the correct dose, for an adequate duration, and at the lowest possible cost to them and the community, all guided by scientific evidence.", incorrect: { A: "The goal is to reduce irrational drug use, not to stop the use of necessary medications.", B: "This is a commercial objective, whereas the RDU project is a public health initiative.", C: "The project aims for rational access to all necessary medicines, not to create barriers to essential treatments.", D: "The RDU project applies to all medicines, with a primary focus on modern pharmaceuticals, not exclusively on promoting traditional medicine." } } },
            { question: "According to the national Rational Drug Use (RDU) hospital project, which of the following is a key objective that aligns with Thailand's national strategic goals?", choices: { A: "Reduce the prescription of antibiotics for upper respiratory tract infections.", B: "Every hospital must create its own proprietary drug list.", C: "Antiviral drugs must be available for sale without a prescription.", D: "Painkillers must be completely removed from the outpatient drug list.", E: "Every patient must receive at least two types of antibiotics per prescription." }, correctAnswer: "A", reasoning: { correct: "A primary indicator for the success of the RDU project is the reduction of antibiotic prescriptions for conditions that are often viral, such as upper respiratory tract infections (URIs) and acute diarrhea. This measure directly addresses the critical national goal of combating antimicrobial resistance (AMR).", incorrect: { B: "Hospitals in Thailand are guided by the National List of Essential Medicines, not by creating their own proprietary lists.", C: "Antiviral drugs require a doctor's prescription for proper diagnosis and monitoring.", D: "While their use should be rational, painkillers are essential medications and cannot be entirely removed from use.", E: "Prescribing multiple antibiotics (polypharmacy) is generally discouraged as it increases the risk of adverse drug reactions and bacterial resistance." } } },
            { question: "Which Thai government agency has the primary responsibility for advising and overseeing the implementation of RDU nationwide?", choices: { A: "The Pharmacy Council of Thailand.", B: "The National Health Security Office (NHSO).", C: "The Food and Drug Administration (FDA).", D: "Health Systems Research Institutes and universities.", E: "The Food and Drug Administration (FDA) and the Ministry of Public Health (MOPH)." }, correctAnswer: "E", reasoning: { correct: "The national RDU policy is driven at the highest level by the Ministry of Public Health (MOPH), which sets the overarching strategy. The Food and Drug Administration (FDA) is the key operational agency within the MOPH responsible for drug regulation and implementation. Together, they form the primary authority for guiding and overseeing the project.", incorrect: { A: "The Pharmacy Council is a professional body that governs pharmacists, not a government agency that implements national health policy.", B: "The NHSO is primarily responsible for managing the universal healthcare budget, not for the direct clinical oversight of RDU implementation.", C: "While the FDA is a critical component, it operates under the broader policy direction of the MOPH, making the combined answer more complete.", D: "Research institutes and universities provide evidence and academic support but are not the official governing or regulatory bodies." } } },
            { question: "Which of the following best demonstrates the rational use of drugs at the community level in Thailand?", choices: { A: "Encourage all villagers to stockpile paracetamol and antibiotics.", B: "Selling antibiotics for fever without a prescription at local pharmacies.", C: "Educating patients to buy specific brands of antibiotics for better results.", D: "Completely replacing necessary medicines with herbal supplements.", E: "Promoting community health volunteers to support adherence to medication instructions and report side effects." }, correctAnswer: "E", reasoning: { correct: "Community health volunteers (known in Thai as Or Sor Mor) are a cornerstone of Thailand's primary healthcare system. Empowering them to help patients follow medication instructions correctly and monitor for adverse effects is a key strategy for promoting rational drug use at the grassroots level.", incorrect: { A: "Stockpiling medicines is irrational and can lead to the use of expired or inappropriate drugs, especially antibiotics.", B: "Selling antibiotics without a prescription is a major contributor to antibiotic resistance and is against the principles of RDU.", C: "Rational drug use focuses on the appropriate generic medication for the condition, not on promoting specific brands.", D: "Herbal supplements cannot and should not be used as a complete substitute for essential, evidence-based medicines needed to treat specific diseases." } } }
        ];

        // --- DATA FOR QUIZ 6: Pharmacovigilance ---
        const pvQuizData = [
            { question: "A pharmacist at a Thai hospital wants to report a suspected adverse drug reaction (ADR) using the national reporting system. What method should they use?", choices: { A: "Reporting ADR via MedWatch", B: "Sending reports directly to the World Health Organization (WHO) in Geneva", C: "Reporting online via the Thai FDA's e-submission system", D: "Reporting by phone to the Ministry of Public Health (Mandatory)", E: "Using a QR code on the drug packaging to access the WHO database" }, correctAnswer: "C", reasoning: { correct: "In Thailand, healthcare professionals, including pharmacists, are required to report ADRs through the national system, which is the Thai FDA's e-submission system. This is the correct channel for submitting reports to the national pharmacovigilance center.", incorrect: { A: "MedWatch is the reporting system used in the United States, not Thailand.", B: "Direct reporting to the WHO is not the standard procedure for national pharmacovigilance. The national system collects the data first, and then it is submitted to the WHO database.", D: "While it's possible to report by phone, it's not the mandatory or primary method. The e-submission system is the standard and required channel for official reports.", E: "QR codes on drug packaging are not a standard method for reporting to the WHO database in Thailand." } } },
            { question: "What is the main objective of the National Pharmacovigilance System of Thailand?", choices: { A: "To facilitate clinical trials for new chemical substances", B: "To monitor drug prices at community pharmacies", C: "To identify, assess, and prevent adverse drug reactions (ADRs) and build patient confidence in safety", D: "To monitor and promote the use of traditional herbs and dietary supplements", E: "To evaluate the cost-effectiveness of drug advertising and hospital management" }, correctAnswer: "C", reasoning: { correct: "The core purpose of the National Pharmacovigilance System is to ensure public health and safety by actively identifying, assessing, and preventing ADRs. A key goal is to build and maintain public trust in the safety of medications.", incorrect: { A: "Clinical trials are a separate process, although pharmacovigilance data can inform trial design. The main objective isn't to facilitate trials.", B: "Monitoring drug prices is handled by other government agencies and is not a function of pharmacovigilance.", D: "While pharmacovigilance includes traditional medicine, monitoring and promoting their use is not the system's primary objective.", E: "Evaluating the cost-effectiveness of advertising and hospital management are not part of pharmacovigilance." } } },
            { question: "Which organization serves as the National Pharmacovigilance Center of Thailand, responsible for collecting and analyzing adverse drug reactions (ADR) reports?", choices: { A: "Department of Disease Control", B: "Health Systems Research Institute (HSRI)", C: "Ministry of Finance and Ministry of Foreign Affairs", D: "Bureau of Drug Control, Food and Drug Administration (under the Ministry of Public Health)", E: "National Science and Technology Development Agency (NSTDA)" }, correctAnswer: "D", reasoning: { correct: "The Bureau of Drug Control, Food and Drug Administration (FDA) is the main agency responsible for pharmacovigilance in Thailand. It collects ADR reports and analyzes them to ensure drug safety. The Pharmacovigilance Center is under the Bureau of Drug Control, which is the main coordination center for the pharmacovigilance system in Thailand.", incorrect: { A: "The Department of Disease Control is responsible for monitoring and controlling communicable and non-communicable diseases. Their work is related to epidemiology and disease surveillance.", B: "The Health Systems Research Institute focuses on health systems research and policy recommendations, not on day-to-day operational work of collecting and analyzing ADR reports.", C: "The Ministry of Finance and the Ministry of Foreign Affairs have entirely different functions and are not involved in pharmacovigilance.", E: "The National Science and Technology Development Agency (NSTDA) is a funding agency for scientific and technological research and development. Their work is much broader than just pharmacovigilance." } } },
            { question: "Which healthcare professionals are legally and ethically encouraged to report suspected adverse drug reactions (ADRs) in Thailand?", choices: { A: "Doctors only", B: "Pharmacists only", C: "Hospital directors only", D: "Representatives from the pharmaceutical industry only", E: "All licensed healthcare professionals, including doctors, pharmacists, and nurses" }, correctAnswer: "E", reasoning: { correct: "The law and ethical guidelines in Thailand encourage all licensed healthcare professionals—including doctors, dentists, pharmacists, and nurses—to report ADRs. This collective responsibility ensures the comprehensive collection of data for the national pharmacovigilance system.", incorrect: { A: "This is incorrect because it improperly restricts the responsibility to a single group. The national pharmacovigilance system relies on reports from all healthcare professionals to be effective.", B: "This is incorrect because it improperly restricts the responsibility to a single group. The national pharmacovigilance system relies on reports from all healthcare professionals to be effective.", C: "This is incorrect because it improperly restricts the responsibility to a single group. The national pharmacovigilance system relies on reports from all healthcare professionals to be effective.", D: "This is incorrect because it improperly restricts the responsibility to a single group. The national pharmacovigilance system relies on reports from all healthcare professionals to be effective." } } },
            { question: "According to the Thai national pharmacovigilance guidelines, which type of adverse drug reaction (ADR) should be prioritized for reporting?", choices: { A: "Minor side effects that disappear within 24 hours", B: "All adverse reactions from over-the-counter (OTC) drugs", C: "Reactions from dietary supplements and cosmetics only", D: "Severe, unexpected, and new ADRs from all drug classes", E: "Only reactions from herbal products and dietary supplements" }, correctAnswer: "D", reasoning: { correct: "The national pharmacovigilance system's primary focus is on severe, unexpected, and new ADRs from all drug classes. These reactions pose the greatest risk to public health and require immediate attention and analysis to prevent future harm.", incorrect: { A: "While minor side effects can be reported, they are not the main priority. The system prioritizes more serious and unexpected events.", B: "OTC drugs are part of the system, but the focus is on the severity and unexpected nature of the reaction, not the drug's classification.", C: "Reactions from dietary supplements and cosmetics are part of the system, but they are not the sole focus.", E: "This is too restrictive. The system covers all types of drugs, not just herbal products and supplements." } } }
        ];

        // --- INITIALIZATION, SIDEBAR, and TAB LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            // Element references
            const menuBtn = document.getElementById('menu-btn');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const contentPanes = document.querySelectorAll('.main-content-pane');
            const pharmaTabBtns = document.querySelectorAll('.pharma-tab-btn');
            const pharmaTabContents = document.querySelectorAll('.pharma-tab-content');

            // --- Sidebar Logic ---
            function openSidebar() {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            }
            function closeSidebar() {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
            menuBtn.addEventListener('click', openSidebar);
            overlay.addEventListener('click', closeSidebar);

            // --- Content Switching Logic ---
            sidebarLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const targetId = link.dataset.target;
                    contentPanes.forEach(pane => pane.classList.add('hidden'));
                    const targetPane = document.getElementById(targetId);
                    if (targetPane) {
                        targetPane.classList.remove('hidden');
                    }
                    closeSidebar();
                });
            });

            // --- Pharmacology Tab Switching Logic ---
            pharmaTabBtns.forEach(button => {
                button.addEventListener('click', () => {
                    pharmaTabBtns.forEach(btn => btn.classList.remove('active'));
                    pharmaTabContents.forEach(content => content.classList.add('hidden'));
                    button.classList.add('active');
                    const targetContent = document.getElementById(button.dataset.target);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                });
            });

            // --- Quiz Building ---
            buildQuiz(paraQuizData, 'para-quiz-container');
            buildQuiz(glucoQuizData, 'gluco-quiz-container');
            buildQuiz(chemoQuizData, 'chemo-quiz-container');
            buildQuiz(antidoteQuizData, 'antidote-quiz-container'); // NEW
            buildQuiz(rduQuizData, 'rdu-quiz-container');
            buildQuiz(pvQuizData, 'pv-quiz-container');

            // Attach event listeners to all check buttons
            const checkButtons = document.querySelectorAll('.check-btn');
            checkButtons.forEach(button => {
                button.addEventListener('click', checkAnswer);
            });
        });

        // --- REUSABLE QUIZ FUNCTIONS ---
        function buildQuiz(quizData, containerId) {
            const quizContainer = document.getElementById(containerId);
            if (!quizContainer) return;
            quizContainer.innerHTML = ''; 
            quizData.forEach((item, index) => {
                const questionIndex = index + 1;
                const choicesHTML = Object.entries(item.choices).map(([key, value]) => `
                    <label for="${containerId}_q${questionIndex}_${key}" class="quiz-option block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors duration-200">
                        <input type="radio" name="${containerId}_question${questionIndex}" id="${containerId}_q${questionIndex}_${key}" value="${key}" class="mr-3 text-blue-600 focus:ring-blue-500">
                        <span class="font-medium">${key}.</span> ${value}
                    </label>
                `).join('');
                const questionElement = document.createElement('div');
                questionElement.classList.add('question-card', 'bg-white', 'p-6', 'rounded-xl', 'shadow-md');
                questionElement.innerHTML = `
                    <div class="question-content">
                        <h2 class="text-xl font-semibold mb-4">
                            <span class="text-blue-600 font-bold">Question ${questionIndex}:</span> ${item.question}
                        </h2>
                        <div class="choices space-y-3" id="${containerId}_choices${questionIndex}">
                            ${choicesHTML}
                        </div>
                        <button class="check-btn mt-6 w-full sm:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105" data-question-index="${index}" data-quiz-type="${containerId}">Check Answer</button>
                        <div class="reasoning hidden opacity-0 max-h-0 mt-6 p-4 border-l-4" id="${containerId}_reasoning${questionIndex}">
                            <h3 class="font-bold text-lg mb-2" id="${containerId}_result-title${questionIndex}"></h3>
                            <div id="${containerId}_result-text${questionIndex}"></div>
                        </div>
                    </div>
                `;
                quizContainer.appendChild(questionElement);
            });
        }

        function checkAnswer(event) {
            const button = event.target;
            const quizType = button.dataset.quizType;
            let quizData;
            if (quizType === 'para-quiz-container') {
                quizData = paraQuizData;
            } else if (quizType === 'gluco-quiz-container') {
                quizData = glucoQuizData;
            } else if (quizType === 'chemo-quiz-container') {
                quizData = chemoQuizData;
            } else if (quizType === 'antidote-quiz-container') {
                quizData = antidoteQuizData;
            } else if (quizType === 'rdu-quiz-container') {
                quizData = rduQuizData;
            } else if (quizType === 'pv-quiz-container') {
                quizData = pvQuizData;
            } else {
                return;
            }
            
            const questionIndex = parseInt(button.dataset.questionIndex, 10);
            const questionData = quizData[questionIndex];
            const qIndexForId = questionIndex + 1;
            const selectedOption = document.querySelector(`input[name="${quizType}_question${qIndexForId}"]:checked`);
            const reasoningDiv = document.getElementById(`${quizType}_reasoning${qIndexForId}`);
            const resultTitle = document.getElementById(`${quizType}_result-title${qIndexForId}`);

            if (!selectedOption) {
                reasoningDiv.classList.remove('hidden');
                reasoningDiv.classList.add('border-yellow-400', 'bg-yellow-50');
                resultTitle.textContent = 'Please select an answer first!';
                resultTitle.classList.add('text-yellow-700');
                setTimeout(() => {
                    reasoningDiv.classList.add('hidden');
                    reasoningDiv.classList.remove('border-yellow-400', 'bg-yellow-50');
                    resultTitle.textContent = '';
                    resultTitle.classList.remove('text-yellow-700');
                }, 2000);
                return;
            }

            const userAnswer = selectedOption.value;
            const isCorrect = userAnswer === questionData.correctAnswer;
            const resultText = document.getElementById(`${quizType}_result-text${qIndexForId}`);
            const choicesContainer = document.getElementById(`${quizType}_choices${qIndexForId}`);

            reasoningDiv.classList.remove('hidden');
            setTimeout(() => {
                reasoningDiv.classList.remove('opacity-0', 'max-h-0');
                reasoningDiv.classList.add('opacity-100', 'max-h-screen');
            }, 10);
            
            if (isCorrect) {
                resultTitle.textContent = '✅ Correct!';
                resultTitle.className = 'font-bold text-lg mb-2 text-green-700';
                reasoningDiv.className = 'reasoning mt-6 p-4 border-l-4 border-green-500 bg-green-50';
                resultText.innerHTML = `<p>${questionData.reasoning.correct}</p>`;
            } else {
                resultTitle.textContent = '❌ Incorrect';
                resultTitle.className = 'font-bold text-lg mb-2 text-red-700';
                reasoningDiv.className = 'reasoning mt-6 p-4 border-l-4 border-red-500 bg-red-50';
                let incorrectReasonsHTML = '<ul>';
                for (const key in questionData.reasoning.incorrect) {
                    incorrectReasonsHTML += `<li class="mb-2"><strong>Why '${key}' is incorrect:</strong> ${questionData.reasoning.incorrect[key]}</li>`;
                }
                incorrectReasonsHTML += '</ul>';
                resultText.innerHTML = `
                    <p class="mb-3"><strong>The correct answer is ${questionData.correctAnswer}.</strong> ${questionData.reasoning.correct}</p>
                    <h4 class="font-semibold mt-4 mb-2">Why other choices are incorrect:</h4>
                    ${incorrectReasonsHTML}
                `;
            }

            const allOptions = choicesContainer.querySelectorAll('input[type="radio"]');
            allOptions.forEach(radio => {
                const label = radio.parentElement;
                if (radio.value === questionData.correctAnswer) {
                    label.classList.add('correct');
                }
                if (radio.checked && radio.value !== questionData.correctAnswer) {
                    label.classList.add('incorrect');
                }
                radio.disabled = true;
            });

            button.disabled = true;
            button.classList.add('bg-gray-400', 'cursor-not-allowed');
            button.classList.remove('hover:bg-blue-700', 'hover:scale-105');
        }
    </script>
</body>
</html>