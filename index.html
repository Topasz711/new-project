<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thai Pharmacy Quizzes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
        }
        .quiz-option.correct {
            background-color: #d1fae5; /* Green-100 */
            border-color: #10b981; /* Green-500 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* Red-100 */
            border-color: #ef4444; /* Red-500 */
        }
        .reasoning {
            transition: opacity 0.5s ease-in-out, max-height 0.5s ease-in-out;
        }
        .pharma-tab-btn.active {
            border-color: #2563eb; /* blue-600 */
            background-color: #2563eb;
            color: white;
        }
        .pharma-tab-btn {
            white-space: nowrap; /* Prevent text wrapping on tabs */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <aside id="sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen bg-white shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="p-4 border-b">
            <h2 class="text-xl font-bold text-gray-800">Topics</h2>
        </div>
        <nav class="mt-4">
            <ul>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="pharmacologyContent">Pharmacology</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Infectious</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Epidemiology</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Skin</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Musculoskeletal</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">CNS</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Urban Health</a></li>
                <li><a href="#" class="sidebar-link block py-2 px-4 text-gray-700 hover:bg-blue-100 hover:text-blue-600 rounded-r-full" data-target="placeholderContent">Cardiovascular</a></li>
            </ul>
        </nav>
    </aside>

    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden transition-opacity duration-300 ease-in-out"></div>

    <div id="main-content" class="transition-all duration-300 ease-in-out">
        <header class="bg-white shadow-md sticky top-0 z-20">
            <div class="container mx-auto px-4 py-3 flex items-center">
                <button id="menu-btn" class="p-2 rounded-md text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
                <h1 class="text-xl font-bold ml-4">Thai Pharmacy Quizzes</h1>
            </div>
        </header>

        <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
            
            <div id="pharmacologyContent" class="main-content-pane">
                <div class="mb-8 border-b border-gray-300 overflow-x-auto">
                    <div class="flex -mb-px">
                        <button class="pharma-tab-btn active flex-shrink-0 py-2 px-4 font-semibold border-b-2 transition-colors duration-300" data-target="paraContent">Parasympathomimetic Drugs</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="glucoContent">Glucocorticoids</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="chemoContent">Chemotherapy</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="antidoteContent">Antidote & Poisoning</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="rduContent">RDU</button>
                        <button class="pharma-tab-btn flex-shrink-0 py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-400 transition-colors duration-300" data-target="pvContent">Pharmacovigilance</button>
                    </div>
                </div>
                
                <div id="paraContent" class="pharma-tab-content">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Parasympathomimetic & Parasympatholytic Drugs Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge on cholinergic pharmacology.</p>
                    </header>
                    <div id="para-quiz-container" class="space-y-8"></div>
                </div>

                <div id="glucoContent" class="pharma-tab-content hidden text-center p-10 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-gray-500">รอติดตาม</h2>
                </div>
                <div id="chemoContent" class="pharma-tab-content hidden text-center p-10 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-gray-500">รอติดตาม</h2>
                </div>
                <div id="antidoteContent" class="pharma-tab-content hidden text-center p-10 bg-white rounded-lg shadow-md">
                    <h2 class="text-2xl font-semibold text-gray-500">รอติดตาม</h2>
                </div>

                <div id="rduContent" class="pharma-tab-content hidden">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Rational Drug Use (RDU) Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge about RDU policies in Thailand.</p>
                    </header>
                    <div id="rdu-quiz-container" class="space-y-8"></div>
                </div>

                <div id="pvContent" class="pharma-tab-content hidden">
                    <header class="text-center mb-8">
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Thai Pharmacovigilance Quiz</h1>
                        <p class="mt-2 text-lg text-gray-600">Test your knowledge about the national drug safety system in Thailand.</p>
                    </header>
                    <div id="pv-quiz-container" class="space-y-8"></div>
                </div>
            </div>

            <div id="placeholderContent" class="main-content-pane hidden text-center p-10 bg-white rounded-lg shadow-md">
                <h2 class="text-2xl font-semibold text-gray-500">ยังไม่มี/อาจจะไม่ทำ</h2>
                <p class="text-gray-400 mt-2">(Not yet available / Might not be created)</p>
            </div>
        </div>
    </div>


    <script>
        // --- DATA FOR QUIZ 1: Parasympathomimetic & Parasympatholytic Drugs ---
        const paraQuizData = [
            { question: "A farmworker is brought to the emergency room with symptoms of excessive salivation, lacrimation, bronchospasm, and bradycardia after exposure to an insecticide. Which of the following is the most likely cause?", choices: { A: "Direct stimulation of M2 and M3 receptors.", B: "Blockade of acetylcholine release from the axon terminal.", C: "Irreversible inhibition of acetylcholinesterase.", D: "Competitive antagonism of muscarinic receptors.", E: "Depolarizing neuromuscular blockade." }, correctAnswer: "C", reasoning: { correct: "The symptoms presented (excessive secretions, bronchospasm, slow heart rate) are classic signs of a muscarinic cholinergic crisis, resulting from too much acetylcholine (ACh). The exposure to an insecticide points towards organophosphate poisoning. Organophosphates are irreversible inhibitors of the enzyme acetylcholinesterase (AChE). By inhibiting AChE, they prevent the breakdown of ACh in the synapse, leading to an accumulation of ACh and overstimulation of its receptors.", incorrect: { A: "This describes the mechanism of a direct-acting parasympathomimetic drug (like bethanechol or pilocarpine), not an insecticide. The poisoning is due to an indirect mechanism that increases the body's own ACh.", B: "Blocking ACh release is the mechanism of botulinum toxin, which would lead to flaccid paralysis and symptoms opposite to those seen here.", D: "This is the mechanism of a parasympatholytic drug like atropine, which is used as an antidote for this type of poisoning because it blocks the effects of excess ACh.", E: "This describes the action of succinylcholine, which affects nicotinic receptors at the neuromuscular junction, leading to paralysis. While organophosphate poisoning also has nicotinic effects (like muscle weakness), the prominent symptoms listed are muscarinic." } } },
            { question: "A patient is given atropine as a pre-operative medication. Which of the following effects is intended?", choices: { A: "To cause muscle paralysis for easier intubation.", B: "To increase gastrointestinal motility post-surgery.", C: "To reduce bronchial and salivary secretions.", D: "To constrict the pupils (miosis).", E: "To decrease heart rate in case of surgical stress." }, correctAnswer: "C", reasoning: { correct: "Atropine is a muscarinic receptor antagonist. By blocking M3 receptors on exocrine glands, it decreases secretions. One of its key clinical uses is reducing salivation and bronchial secretions before surgery to maintain a clear airway and prevent aspiration.", incorrect: { A: "Muscle paralysis for intubation is achieved with neuromuscular blockers (NMBs) like rocuronium or succinylcholine, which act on nicotinic receptors at the neuromuscular junction. Atropine does not cause muscle paralysis.", B: "As a muscarinic antagonist, atropine relaxes GI smooth muscle and decreases motility, leading to constipation.", D: "Atropine blocks M3 receptors on the pupillary constrictor muscle, causing the pupil to dilate (mydriasis), not constrict. Miosis is caused by muscarinic agonists.", E: "Atropine blocks M2 receptors in the heart, which leads to an increase in heart rate (tachycardia). It is used to treat bradycardia (low heart rate)." } } },
            { question: "Succinylcholine is used as a neuromuscular blocker. How does its mechanism differ from that of rocuronium?", choices: { A: "Succinylcholine is a competitive antagonist, while rocuronium is a non-competitive antagonist.", B: "Succinylcholine acts as a receptor agonist, while rocuronium is a competitive antagonist.", C: "Succinylcholine prevents ACh release, while rocuronium blocks the receptor.", D: "Succinylcholine can be reversed by neostigmine, while rocuronium cannot.", E: "Succinylcholine has a longer duration of action than rocuronium." }, correctAnswer: "B", reasoning: { correct: "These two drugs represent the two main classes of neuromuscular blockers. Succinylcholine is a depolarizing blocker; it acts as an acetylcholine (nACh) receptor agonist, binding to the receptor and causing a prolonged depolarization that leads to flaccid paralysis. Rocuronium is a non-depolarizing blocker; it acts as a competitive antagonist, preventing ACh from binding to its receptor, thereby preventing muscle depolarization.", incorrect: { A: "Succinylcholine is an agonist, not an antagonist. Rocuronium is a competitive antagonist.", C: "Preventing ACh release is the mechanism of botulinum toxin, not succinylcholine.", D: "The opposite is true. The block from non-depolarizing agents like rocuronium is reversed by acetylcholinesterase inhibitors like neostigmine. Administering neostigmine would worsen the paralysis caused by succinylcholine (in Phase I).", E: "Succinylcholine has a very short duration of action, while non-depolarizing agents like rocuronium generally last longer." } } },
            { question: "What is the specific therapeutic role of Pralidoxime (2-PAM) in treating organophosphate poisoning?", choices: { A: "It regenerates acetylcholinesterase by removing the organophosphate from the enzyme.", B: "It directly metabolizes the organophosphate compound in the bloodstream.", C: "It provides a source of new acetylcholinesterase enzyme to the body.", D: "It acts as a competitive antagonist at muscarinic receptors to block the effects of excess acetylcholine.", E: "It enhances the function of the sympathetic nervous system to counteract the parasympathetic overstimulation." }, correctAnswer: "A", reasoning: { correct: "Pralidoxime (2-PAM) is a cholinesterase reactivator. Its mechanism is to attach to the organophosphate molecule that is bound to the acetylcholinesterase enzyme and break the bond between them. This action removes the poison from the enzyme, allowing the enzyme to be regenerated and resume its normal function of breaking down acetylcholine. This must be done before the bond 'ages' and becomes permanent.", incorrect: { B: "Pralidoxime does not metabolize the poison; it works by salvaging the existing, poisoned enzyme.", C: "Pralidoxime does not create a new enzyme; it works by salvaging the existing, poisoned enzyme.", D: "This is the mechanism of action for atropine, which is also used in organophosphate poisoning but for a different purpose (symptom control).", E: "Pralidoxime's action is confined to regenerating AChE within the cholinergic system; it does not directly affect the sympathetic nervous system." } } },
            { question: "A patient presents with delirium, severe tachycardia, and mydriasis due to an overdose of a belladonna alkaloid. Which of the following would be the most effective antidote to reverse both the central and peripheral symptoms?", choices: { A: "Pralidoxime", B: "Physostigmine", C: "Bethanechol", D: "Neostigmine", E: "Edrophonium" }, correctAnswer: "B", reasoning: { correct: "The patient is suffering from an anticholinergic toxidrome, likely from atropine or scopolamine (belladonna alkaloids). The treatment is an acetylcholinesterase inhibitor. To reverse the central symptoms (delirium), the antidote must be able to cross the blood-brain barrier (BBB). Physostigmine is a tertiary amine that crosses the BBB and is specifically indicated as an antidote for poisoning with anticholinergic agents to reverse toxic, life-threatening delirium.", incorrect: { A: "Pralidoxime is a cholinesterase reactivator used only for organophosphate poisoning.", C: "Bethanechol is a direct muscarinic agonist. While it could counter peripheral symptoms, it is not the standard antidote and would not address the central effects.", D: "Neostigmine and edrophonium are quaternary amines that do not cross the BBB effectively. They could reverse peripheral symptoms (tachycardia, mydriasis) but would not resolve the central delirium.", E: "Neostigmine and edrophonium are quaternary amines that do not cross the BBB effectively. They could reverse peripheral symptoms (tachycardia, mydriasis) but would not resolve the central delirium." } } },
            { question: "A patient with organophosphate poisoning has been given atropine, which has resolved their bradycardia and excessive secretions. However, they continue to experience severe muscle weakness. What is the rationale for adding pralidoxime (2-PAM) to their treatment?", choices: { A: "Pralidoxime enhances the muscarinic blocking effects of atropine at the heart and glands.", B: "Atropine does not affect nicotinic receptors at the neuromuscular junction, which are the cause of the muscle weakness.", C: "Pralidoxime is needed to reverse the toxic CNS effects that atropine cannot reach.", D: "The combination of atropine and pralidoxime directly neutralizes the organophosphate in the blood.", E: "Atropine can worsen muscle weakness, and pralidoxime is administered to counteract this specific side effect." }, correctAnswer: "B", reasoning: { correct: "Organophosphate poisoning causes overstimulation of both muscarinic and nicotinic receptors. Atropine is a muscarinic antagonist and is very effective at blocking the muscarinic symptoms (bradycardia, salivation, bronchospasm). However, atropine has no effect at nicotinic receptors. Muscle weakness, fasciculations, and paralysis are nicotinic effects caused by ACh overstimulation at the neuromuscular junction (NMJ). Pralidoxime is required to regenerate AChE at the NMJ to break down the excess ACh, thereby reversing the muscle weakness.", incorrect: { A: "These statements describe incorrect mechanisms. Atropine and pralidoxime work via different, independent mechanisms and do not enhance each other.", C: "Pralidoxime works primarily in the periphery. Atropine can cross the BBB to address central muscarinic effects.", D: "These statements describe incorrect mechanisms. Atropine and pralidoxime do not directly neutralize the poison.", E: "These statements describe incorrect mechanisms. Atropine and pralidoxime work via different, independent mechanisms." } } },
            { question: "A 55-year-old man with a history of myasthenia gravis is undergoing surgery. Anesthesia requires the use of a neuromuscular blocking agent. Post-operatively, neostigmine is administered to reverse the muscle paralysis. Which of the following neuromuscular blockers was most likely used during his surgery?", choices: { A: "Benztropine", B: "Rocuronium", C: "Trimethaphan", D: "Succinylcholine", E: "Botulinum toxin" }, correctAnswer: "B", reasoning: { correct: "Neostigmine is an acetylcholinesterase inhibitor that works by increasing the amount of acetylcholine at the neuromuscular junction. This increased level of ACh helps it to outcompete a competitive antagonist, thereby reversing its effect. Rocuronium is a non-depolarizing, competitive antagonist neuromuscular blocker.", incorrect: { A: "Benztropine is an anticholinergic for Parkinson's disease, not a neuromuscular blocker.", C: "Trimethaphan is a ganglionic blocker; neither is a neuromuscular blocker used in surgery.", D: "Succinylcholine is a depolarizing blocker (an agonist). Administering an AChE inhibitor like neostigmine would potentiate, not reverse, its paralytic effect.", E: "Botulinum toxin works by preventing ACh release, so increasing ACh with an inhibitor would have no substrate to act upon and would not reverse the paralysis." } } },
            { question: "A patient being treated for moderate Alzheimer's disease is prescribed a medication that is a centrally-acting acetylcholinesterase inhibitor. Which of the following medications was likely prescribed?", choices: { A: "Pilocarpine", B: "Neostigmine", C: "Donepezil", D: "Atropine", E: "Sugammadex" }, correctAnswer: "C", reasoning: { correct: "Alzheimer's disease involves a cholinergic deficit in the brain. The primary treatment strategy is to increase central acetylcholine levels using an acetylcholinesterase inhibitor that can cross the blood-brain barrier. Donepezil, Rivastigmine, and Galantamine are acetylcholinesterase inhibitors used for mild to moderate Alzheimer's disease.", incorrect: { A: "Pilocarpine is a direct-acting muscarinic agonist used for glaucoma and dry mouth.", B: "Neostigmine is an acetylcholinesterase inhibitor, but it does not cross the blood-brain barrier and is used for peripheral conditions like myasthenia gravis.", D: "Atropine is a muscarinic antagonist and would worsen the cognitive symptoms of Alzheimer's.", E: "Sugammadex is a specific reversal agent for certain neuromuscular blockers and has no role in Alzheimer's treatment." } } },
            { question: "Which of the following agents is a depolarizing neuromuscular blocker that acts as a Nicotinic receptor agonist?", choices: { A: "d-Tubocurarine", B: "Nicotine", C: "Rocuronium", D: "Scopolamine", E: "Succinylcholine" }, correctAnswer: "E", reasoning: { correct: "The definition of a depolarizing neuromuscular blocker is an agent that acts as a nicotinic acetylcholine (nACh) receptor agonist at the neuromuscular junction. Succinylcholine fits this description perfectly. It binds to nACh receptors, generating an action potential (depolarization), but its prolonged binding prevents the end plate from repolarizing, resulting in flaccid paralysis.", incorrect: { A: "d-Tubocurarine and rocuronium are non-depolarizing neuromuscular blockers; they act as competitive antagonists, not agonists.", B: "While nicotine is a nicotinic receptor agonist, it is not used clinically as a neuromuscular blocker.", C: "d-Tubocurarine and rocuronium are non-depolarizing neuromuscular blockers; they act as competitive antagonists, not agonists.", D: "Scopolamine is a muscarinic receptor antagonist, not a nicotinic agonist." } } },
            { question: "A patient with postoperative urinary retention who is not otherwise obstructed would be best treated with which of the following agents to stimulate urination?", choices: { A: "Pilocarpine", B: "Oxybutynin", C: "Bethanechol", D: "Benztropine", E: "Scopolamine" }, correctAnswer: "C", reasoning: { correct: "To treat urinary retention, a drug that stimulates the contraction of the bladder's detrusor muscle is needed. This is achieved by stimulating muscarinic (M3) receptors. Bethanechol is a direct-acting muscarinic agonist whose specific clinical use is the treatment of acute postoperative and postpartum nonobstructive urinary retention.", incorrect: { A: "Pilocarpine is also a muscarinic agonist, but its primary uses are for glaucoma and Sjögren syndrome, not urinary retention.", B: "Oxybutynin is a muscarinic antagonist used to treat an overactive bladder by relaxing the detrusor muscle—the exact opposite of the desired effect.", D: "Benztropine and scopolamine are muscarinic antagonists used for Parkinson's disease and motion sickness, respectively. They would worsen urinary retention.", E: "Benztropine and scopolamine are muscarinic antagonists used for Parkinson's disease and motion sickness, respectively. They would worsen urinary retention." } } },
            { question: "A farmer is exposed to a large amount of an organophosphate insecticide. He presents with symptoms of diarrhea, urination, miosis, bronchospasm, and excessive salivation. The physician administers Atropine, which alleviates most symptoms. However, one specific symptom persists because it is mediated by a different receptor type than the others. Which symptom is LEAST likely to be resolved by Atropine?", choices: { A: "Miosis", B: "Diarrhea", C: "Muscle twitching", D: "Bronchospasm", E: "Excessive salivation" }, correctAnswer: "C", reasoning: { correct: "Atropine is a muscarinic receptor antagonist. It is effective at blocking the effects of acetylcholine at muscarinic receptors. All the symptoms listed—diarrhea (M3), miosis (M3), bronchospasm (M3), and salivation (M3)—are mediated by muscarinic receptors and would be alleviated by atropine. However, muscle twitching (fasciculations) is a nicotinic effect, caused by acetylcholine acting on nicotinic receptors at the neuromuscular junction (NMJ). Since atropine does not block nicotinic receptors, it will not resolve this symptom.", incorrect: { A: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", B: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", D: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine.", E: "This is a classic muscarinic effect of parasympathetic overstimulation, which is effectively blocked by atropine." } } },
            { question: "A 65-year-old man with COPD is managed with a long-acting beta-agonist. To achieve better symptom control, his doctor adds an inhaled anticholinergic agent. Which of the following would be the most suitable choice for a once-daily maintenance therapy due to its prolonged duration of action and selectivity for M1/M3 receptors?", choices: { A: "Ipratropium", B: "Benztropine", C: "Tiotropium", D: "Pilocarpine", E: "Atropine" }, correctAnswer: "C", reasoning: { correct: "The goal is to provide long-term bronchodilation for COPD with a once-daily inhaled medication. This requires a Long-Acting Muscarinic Antagonist (LAMA). Tiotropium is a LAMA with a duration of action that typically lasts over 24 hours, allowing for once-daily dosing, making it ideal for long-term maintenance treatment for COPD.", incorrect: { A: "Ipratropium is a Short-Acting Muscarinic Antagonist (SAMA) with a duration of only 4-6 hours, requiring more frequent dosing and is typically used as a reliever, not for long-term maintenance.", B: "Benztropine is an anticholinergic used for Parkinson's disease and is not administered via inhalation for COPD.", D: "Pilocarpine is a muscarinic agonist and would cause bronchoconstriction, worsening COPD symptoms.", E: "While atropine is an anticholinergic, it is not formulated for long-acting, once-daily inhalation for COPD and has more systemic side effects. Tiotropium is the more modern and appropriate choice." } } }
        ];

        // --- DATA FOR QUIZ 2: RDU ---
        const rduQuizData = [ /* ... RDU data remains the same ... */ ];

        // --- DATA FOR QUIZ 3: Pharmacovigilance ---
        const pvQuizData = [ /* ... PV data remains the same ... */ ];

        // --- REUSABLE QUIZ FUNCTIONS ---
        // ... buildQuiz and checkAnswer functions remain the same ...

        // --- INITIALIZATION, SIDEBAR, and TAB LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            // Element references
            const menuBtn = document.getElementById('menu-btn');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const contentPanes = document.querySelectorAll('.main-content-pane');
            const pharmaTabBtns = document.querySelectorAll('.pharma-tab-btn');
            const pharmaTabContents = document.querySelectorAll('.pharma-tab-content');

            // --- Sidebar Logic ---
            function openSidebar() {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
            }
            function closeSidebar() {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
            menuBtn.addEventListener('click', openSidebar);
            overlay.addEventListener('click', closeSidebar);

            // --- Content Switching Logic ---
            sidebarLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const targetId = link.dataset.target;
                    contentPanes.forEach(pane => pane.classList.add('hidden'));
                    const targetPane = document.getElementById(targetId);
                    if (targetPane) {
                        targetPane.classList.remove('hidden');
                    }
                    closeSidebar();
                });
            });

            // --- Pharmacology Tab Switching Logic ---
            pharmaTabBtns.forEach(button => {
                button.addEventListener('click', () => {
                    // Deactivate all buttons and hide all content
                    pharmaTabBtns.forEach(btn => btn.classList.remove('active'));
                    pharmaTabContents.forEach(content => content.classList.add('hidden'));

                    // Activate the clicked button and show its content
                    button.classList.add('active');
                    const targetContent = document.getElementById(button.dataset.target);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                });
            });

            // --- Quiz Building ---
            buildQuiz(paraQuizData, 'para-quiz-container'); // NEW
            buildQuiz(rduQuizData, 'rdu-quiz-container');
            buildQuiz(pvQuizData, 'pv-quiz-container');

            // Attach event listeners to all check buttons
            const checkButtons = document.querySelectorAll('.check-btn');
            checkButtons.forEach(button => {
                button.addEventListener('click', checkAnswer);
            });
        });

        // --- REUSABLE QUIZ FUNCTIONS ---
        // (These are unchanged from your previous code, but I've included them here for completeness)
        function buildQuiz(quizData, containerId) {
            const quizContainer = document.getElementById(containerId);
            if (!quizContainer) return;

            quizContainer.innerHTML = ''; 

            quizData.forEach((item, index) => {
                const questionIndex = index + 1;
                const choicesHTML = Object.entries(item.choices).map(([key, value]) => `
                    <label for="${containerId}_q${questionIndex}_${key}" class="quiz-option block p-4 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors duration-200">
                        <input type="radio" name="${containerId}_question${questionIndex}" id="${containerId}_q${questionIndex}_${key}" value="${key}" class="mr-3 text-blue-600 focus:ring-blue-500">
                        <span class="font-medium">${key}.</span> ${value}
                    </label>
                `).join('');

                const questionElement = document.createElement('div');
                questionElement.classList.add('question-card', 'bg-white', 'p-6', 'rounded-xl', 'shadow-md');
                questionElement.innerHTML = `
                    <div class="question-content">
                        <h2 class="text-xl font-semibold mb-4">
                            <span class="text-blue-600 font-bold">Question ${questionIndex}:</span> ${item.question}
                        </h2>
                        <div class="choices space-y-3" id="${containerId}_choices${questionIndex}">
                            ${choicesHTML}
                        </div>
                        <button class="check-btn mt-6 w-full sm:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105" data-question-index="${index}" data-quiz-type="${containerId}">Check Answer</button>
                        <div class="reasoning hidden opacity-0 max-h-0 mt-6 p-4 border-l-4" id="${containerId}_reasoning${questionIndex}">
                            <h3 class="font-bold text-lg mb-2" id="${containerId}_result-title${questionIndex}"></h3>
                            <div id="${containerId}_result-text${questionIndex}"></div>
                        </div>
                    </div>
                `;
                quizContainer.appendChild(questionElement);
            });
        }

        function checkAnswer(event) {
            const button = event.target;
            const quizType = button.dataset.quizType;
            let quizData;
            if (quizType === 'rdu-quiz-container') {
                quizData = rduQuizData;
            } else if (quizType === 'pv-quiz-container') {
                quizData = pvQuizData;
            } else if (quizType === 'para-quiz-container') {
                quizData = paraQuizData; // NEW
            } else {
                return;
            }
            
            const questionIndex = parseInt(button.dataset.questionIndex, 10);
            const questionData = quizData[questionIndex];
            const qIndexForId = questionIndex + 1;

            const selectedOption = document.querySelector(`input[name="${quizType}_question${qIndexForId}"]:checked`);
            
            const reasoningDiv = document.getElementById(`${quizType}_reasoning${qIndexForId}`);
            const resultTitle = document.getElementById(`${quizType}_result-title${qIndexForId}`);

            if (!selectedOption) {
                reasoningDiv.classList.remove('hidden');
                reasoningDiv.classList.add('border-yellow-400', 'bg-yellow-50');
                resultTitle.textContent = 'Please select an answer first!';
                resultTitle.classList.add('text-yellow-700');
                setTimeout(() => {
                    reasoningDiv.classList.add('hidden');
                    reasoningDiv.classList.remove('border-yellow-400', 'bg-yellow-50');
                    resultTitle.textContent = '';
                    resultTitle.classList.remove('text-yellow-700');
                }, 2000);
                return;
            }

            const userAnswer = selectedOption.value;
            const isCorrect = userAnswer === questionData.correctAnswer;
            
            const resultText = document.getElementById(`${quizType}_result-text${qIndexForId}`);
            const choicesContainer = document.getElementById(`${quizType}_choices${qIndexForId}`);

            reasoningDiv.classList.remove('hidden');
            setTimeout(() => {
                reasoningDiv.classList.remove('opacity-0', 'max-h-0');
                reasoningDiv.classList.add('opacity-100', 'max-h-screen');
            }, 10);
            
            if (isCorrect) {
                resultTitle.textContent = '✅ Correct!';
                resultTitle.className = 'font-bold text-lg mb-2 text-green-700';
                reasoningDiv.className = 'reasoning mt-6 p-4 border-l-4 border-green-500 bg-green-50';
                resultText.innerHTML = `<p>${questionData.reasoning.correct}</p>`;
            } else {
                resultTitle.textContent = '❌ Incorrect';
                resultTitle.className = 'font-bold text-lg mb-2 text-red-700';
                reasoningDiv.className = 'reasoning mt-6 p-4 border-l-4 border-red-500 bg-red-50';
                let incorrectReasonsHTML = '<ul>';
                for (const key in questionData.reasoning.incorrect) {
                    incorrectReasonsHTML += `<li class="mb-2"><strong>Why '${key}' is incorrect:</strong> ${questionData.reasoning.incorrect[key]}</li>`;
                }
                incorrectReasonsHTML += '</ul>';
                resultText.innerHTML = `
                    <p class="mb-3"><strong>The correct answer is ${questionData.correctAnswer}.</strong> ${questionData.reasoning.correct}</p>
                    <h4 class="font-semibold mt-4 mb-2">Why other choices are incorrect:</h4>
                    ${incorrectReasonsHTML}
                `;
            }

            const allOptions = choicesContainer.querySelectorAll('input[type="radio"]');
            allOptions.forEach(radio => {
                const label = radio.parentElement;
                if (radio.value === questionData.correctAnswer) {
                    label.classList.add('correct');
                }
                if (radio.checked && radio.value !== questionData.correctAnswer) {
                    label.classList.add('incorrect');
                }
                radio.disabled = true;
            });

            button.disabled = true;
            button.classList.add('bg-gray-400', 'cursor-not-allowed');
            button.classList.remove('hover:bg-blue-700', 'hover:scale-105');
        }
    </script>
</body>
</html>